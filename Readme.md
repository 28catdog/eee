github项目地址：https://github.com/jovy-rtt/Lamport
# <center>Lamport门禁系统设计说明</center>
## 项目背景
现实生活中经常遇到刷门禁卡的问题，而传统门禁卡可以采用一定的手段进行复制门禁卡的信息，来达到自己使用别人门禁卡进入一些原本无法进入的地方，而被盗用信息的受害人除非主动去查刷卡记录或者已造成重大损失才会知晓自己的信息被盗用，这是非常不安全的。所以本项目将重点针对这一问题，按照Lamport一次性口令方案来设计一款新的门禁系统，确保个人信息的安全。
## 所用技术
身份认证
Diffie-Hellman密钥交换协议
Hash函数
密钥管理
数据库（用文件存储模式代替吧）
## 软件以及编程能力
VS2019
C#
WCF
## 详细步骤以及说明
1. 请先复习Lamport一次性口令方案  在身份认证那个视频中的31分22秒
2. 复习多级密钥管理概念  密钥管理那个视频的5分26秒
3. 读懂Lamport一次性口令门禁系统概要图
4. 下面我将就概要图来进行详细讲解

左边的图是多级密钥管理的图示，后边的图是结合我们这一个系统的框架图
我们将用wcf的服务端，代表我们主机，也就是说服务端里面要有一个主机主密钥，这个主机主密钥将被定死，存储在Host文件下的HostKey.txt里面。服务端还要存有密钥加密密钥，也就是每一个用户的id号，id号的生成算法如下 id = H(主机主密钥+共享密钥+用户user号)，H代表hash函数，共享密钥由Diffie-Hellman密钥交换协议产生;每一个用户的id号存在Id目录下的user号.txt文件中

我们用wpf当为我们的客户端，也就是wpf其实就是一张门禁卡，这个页面上，有一个text文本框，有一个注册按钮，还有一个刷卡按钮，还有一个label

注册：就相当于我们是新用户，要办一张门禁卡；点击注册按钮后，会在文本框中出随机出现一个user号，该user号为五位数字，具有唯一性，同时将在User目录下，生成一个user号.txt的文件，文件内是新用户的回话密钥$K_0$.

刷卡：相当于我们用门禁卡刷了一次卡; 在text中输入user号，刷卡，在服务端验证成功后，将在label中显示“成功”，并且该user号.txt中的回话密钥将进行更新，更新规则：H（用户的id+本次是第几次刷卡）；验证失败：显示“验证失败，本卡可能已被盗刷”

## 扩展功能
1. 在wpf新加一个攻击按钮，模拟敌手成功盗刷信息
2. 对每一个门禁卡加上一个使用次数，使用次数用完后要显示“本卡已失效，请重新申请一张！”
3. 模拟对Diffie-Hellman协议的攻击
4. 改进Diffie-Hellman协议
5. 任何改进...只要你能想到

## 要求
每次提交到上游仓库的时候，标题是自己的姓名，说明是自己完成的功能介绍；可以多次提交；